import{n as t,h as l,U as o,s as c,u as a,j as f}from"./runtime.CwJW9RPk.js";import{u as b,q as _}from"./disclose-version.DK9cja5W.js";function d(u,e,s){if(u==null)return e(void 0),s&&s(void 0),t;const n=u.subscribe(e,s);return n.unsubscribe?()=>n.unsubscribe():n}function I(u,e,s){let n=s[e];const r=n===void 0;r&&(n={store:null,last_value:null,value:_(o),unsubscribe:t},s[e]=n),(r||n.store!==u)&&(n.unsubscribe(),n.store=u??null,n.unsubscribe=m(u,n.value));const i=l(n.value);return i===o?n.last_value:i}function m(u,e){return u==null?(c(e,void 0),t):d(u,n=>{f(!0),c(e,n),f(!1)})}function y(u){v(()=>{let e;for(e in u)u[e].unsubscribe()})}function v(u){b(()=>()=>a(u))}export{I as s,y as u};
